<!--pages/seller_settings/seller_settings.wxml-->
<view class="settings-container">
  <view class="settings-header">
    <text class="settings-title">商家设置</text>
  </view>

  <!-- 不可接单日期设置 -->
  <view class="settings-section">
    <view class="section-header">
      <text class="section-title">不可接单日期设置</text>
      <text class="section-desc">设置未来一个月内不可接单的日期</text>
    </view>
    
    <view class="date-picker-section">
      <view class="date-picker-row">
        <text class="date-label">选择日期：</text>
        <picker mode="date" value="{{selectedDate}}" start="{{minDate}}" end="{{maxDate}}" bindchange="onDateSelect">
          <text class="date-value">{{selectedDate || '请选择日期'}}</text>
        </picker>
      </view>
      
      <view class="date-actions">
        <button class="add-date-btn" bindtap="onAddUnavailableDate" disabled="{{!selectedDate}}">添加不可接单日期</button>
      </view>
    </view>

    <!-- 已设置的不可接单日期列表 -->
    <view class="unavailable-dates-list" wx:if="{{unavailableDates.length > 0}}">
      <view class="list-header">
        <text class="list-title">已设置的不可接单日期：</text>
      </view>
      <view class="date-item" wx:for="{{unavailableDates}}" wx:key="*this">
        <text class="date-text">{{item}}</text>
        <text class="remove-date" bindtap="onRemoveUnavailableDate" data-date="{{item}}">删除</text>
      </view>
    </view>

    <!-- 批量设置 -->
    <view class="batch-settings">
      <view class="batch-header">
        <text class="batch-title">批量设置</text>
      </view>
      <view class="batch-options">
        <view class="batch-option" bindtap="onSetWeekends" data-type="weekends">
          <text>设置所有周末不可接单</text>
        </view>
        <view class="batch-option" bindtap="onSetWeekdays" data-type="weekdays">
          <text>设置所有工作日不可接单</text>
        </view>
        <view class="batch-option" bindtap="onClearAllDates">
          <text>清空所有不可接单日期</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 其他设置 -->
  <view class="settings-section">
    <view class="section-header">
      <text class="section-title">其他设置</text>
    </view>
    
    <view class="setting-item">
      <text class="setting-label">自动接单</text>
      <switch checked="{{autoAccept}}" bindchange="onAutoAcceptChange" />
    </view>
    
    <view class="setting-item">
      <text class="setting-label">接收通知</text>
      <switch checked="{{notifications}}" bindchange="onNotificationsChange" />
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="save-section">
    <button class="save-btn" bindtap="onSaveSettings">保存设置</button>
  </view>
</view>